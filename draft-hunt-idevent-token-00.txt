



Network Working Group                                       P. Hunt, Ed.
Internet-Draft                                                    Oracle
Intended status: Standards Track                              W. Denniss
Expires: August 13, 2016                                          Google
                                                               M. Ansari
                                                                   Cisco
                                                       February 10, 2016


                          Identity Event Token
                      draft-hunt-idevent-token-00

Abstract

   This specification defines an Identity Event token which may be
   distributed via a protocol such as HTTP.  An identity event token
   describes a statement of fact that may be shared by an event
   publisher with registered subscribers.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 13, 2016.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of



Hunt, et al.             Expires August 13, 2016                [Page 1]

Internet-Draft          draft-hunt-idevent-token           February 2016


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction and Overview . . . . . . . . . . . . . . . . . .   2
     1.1.  Notational Conventions  . . . . . . . . . . . . . . . . .   4
     1.2.  Definitions . . . . . . . . . . . . . . . . . . . . . . .   4
   2.  Events  . . . . . . . . . . . . . . . . . . . . . . . . . . .   4
     2.1.  Core Event Attributes . . . . . . . . . . . . . . . . . .   6
     2.2.  Event Token . . . . . . . . . . . . . . . . . . . . . . .   7
   3.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
     4.1.  Event Type Registry . . . . . . . . . . . . . . . . . . .   9
   5.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     5.1.  Normative References  . . . . . . . . . . . . . . . . . .   9
     5.2.  Informative References  . . . . . . . . . . . . . . . . .  10
   Appendix A.  Appendix A. Event Types  . . . . . . . . . . . . . .  11
     A.1.  SCIM Events . . . . . . . . . . . . . . . . . . . . . . .  11
       A.1.1.  Event Schema URIs . . . . . . . . . . . . . . . . . .  11
       A.1.2.  SCIM Event Attributes . . . . . . . . . . . . . . . .  12
   Appendix B.  Contributors . . . . . . . . . . . . . . . . . . . .  13
   Appendix C.  Acknowledgments  . . . . . . . . . . . . . . . . . .  13
   Appendix D.  Change Log . . . . . . . . . . . . . . . . . . . . .  13
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  13

1.  Introduction and Overview

   This specification defines an extensible event token format which may
   be exchanged using protocols such as HTTP.  The specification builds
   on the JSON Web Token format [RFC7519] in order to provide a self-
   contained message "token" that can be optionally signed using JSON
   Web Signature [RFC7515] and/or encrypted using JSON Web Encryption
   [RFC7516].

   For the purpose of this specification an "event" is a statement of
   fact by a publisher that the state of a resource it controls has
   changed in some way (explicitly or implicitly).  Based on some agreed
   upon criteria for an event feed, the publisher distributes the event
   to the appropriate subscribers.

   While this specification is intended as a base specification, this
   specification does include the definition of some SCIM and other
   events.  The inclusion of SCIM events is intended to be informative
   to other extensions and not intended to replace events that may be
   defined for other purposes.  At the time of writing of this
   specifications there are several discussions going on around the need
   for identity events.  Some of these include:



Hunt, et al.             Expires August 13, 2016                [Page 2]

Internet-Draft          draft-hunt-idevent-token           February 2016


   o  Events to allow SCIM resource co-ordination between SCIM domains.

   o  OAuth Token Revocation (see [RFC7009])

   o  OpenID Logout or downstream logout notification.

   o  Session Cancellation

   o  OpenID Risk Incident Sharing and Coordination (RISC) Events.  See
      [RISC]

   o  The HEART WG [HEART] which intends to define privacy and security
      related events in health-related data sharing APIs.

   A resource state change event MAY include explicit changes such as: a
   resource that has been created, modified, removed, or updated.  In
   addition to explicit changes of state, there may be higher-level
   conclusions made that describe an effect resulting from a change.
   For example, a publisher may wish to indicate that a user resource
   has taken over an email identifier that may have been used in the
   past.  This hypothetical event is a high-level conclusion that takes
   into account that another resource had a personal identifier that
   potentially conflicts with a newer resource.  Because of the
   potential security impact, the publisher may wish to notify its
   subscribers of the identifier re-use.  In this way, the event is not
   describing a particular state change to a resource, it describes a
   meta-conclusion based on its own business and security rules (this is
   often called an 'account take-over' event).

   A subscriber having received an event, takes its own independent
   action, if any.  For example, having been informed of a personal
   identifier now being associated with a different resource (i.e. is
   being used by someone-else), the subscriber may choose to ensure that
   the new user is not granted access to resources associated with the
   previous user.

   Events SHOULD NOT be used to convey commands or requests.  To do so
   requires complex bi-directional signaling and error recovery
   mechanisms which fall outside the scope of this specification.  The
   intent of this specification is to define a way of stating historical
   statements of fact that subscribers may interpret for their own use.

   This specification is scoped to security and identity related events.
   While event tokens may be used for other purposes, the specification
   only considers security and privacy concerns relevant to identity and
   personal information.





Hunt, et al.             Expires August 13, 2016                [Page 3]

Internet-Draft          draft-hunt-idevent-token           February 2016


   This specification is intended to be optionally used with the
   identity event subscription management specification which provides
   the details of event feeds and how subscribers register for
   events(see [idevent-subscription]).

1.1.  Notational Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].  These
   keywords are capitalized when used to unambiguously specify
   requirements of the protocol or application features and behavior
   that affect the interoperability and security of implementations.
   When these words are not capitalized, they are meant in their
   natural-language sense.

   For purposes of readability examples are not URL encoded.
   Implementers MUST percent encode URLs as described in Section 2.1 of
   [RFC3986].

   Throughout this documents all figures MAY contain spaces and extra
   line-wrapping for readability and space limitations.  Similarly, some
   URI's contained within examples, have been shortened for space and
   readability reasons.

1.2.  Definitions

   This specification uses definitions from the specification
   [idevent-subscription].

2.  Events

   An identity event conveys a message (in the form of a token) about a
   resource (e.g. a security subject) that may be of interest to a
   subscriber or set of subscribers participating in an event feed (see
   [idevent-subscription]).

   An event message is indicated a JSON object containing the attribute
   "schemas" and having at least one value as
   "urn:ietf:params:scim:schemas:Event".  The "schemas" usually contains
   other values that convey one or more event extension schema URIs.  An
   event extension schema URI indicates to the reader what event
   information and event types are contained in the event message.  The
   attribute "resourceUris" specifies one or more affected resources
   which are the subject of the event. [should resourceUris be
   required?? Or could it be required as part of an extension schema]





Hunt, et al.             Expires August 13, 2016                [Page 4]

Internet-Draft          draft-hunt-idevent-token           February 2016


   The schema and structure of an event follows the SCIM schema model as
   defined in [RFC7643].  This means that an event has the following
   aspects:

   o  a common set of attributes common to every event, and

   o  one or more schema extensions (see Section 3 of [RFC7643]) that
      each define a set of attributes that belonging to an extension.

   The following is a non-normative example showing a password change
   event that conveys both a hypothetical RISC event and a SCIM event in
   the same message:

   {
     "schemas":[
       "urn:ietf:params:scim:schemas:Event",
       "urn:ietf:params:scim:schemas:extension:Event:SCIM:password",
       "urn:ietf:params:scim:schemas:extension:Event:RISC:password"
     ],
     "publisherUri":"https://scim.example.com",
     "feedUris":[
      "https://jhub.example.com/Feeds/98d52461fa5bbc879593b7754",
      "https://jhub.example.com/Feeds/5d7604516b1d08641d7676ee7"
     ],
     "resourceUris":[
       "https://scim.example.com/Users/44f6142df96bd6ab61e7521d9"
     ],
     "urn:ietf:params:scim:schemas:extension:Event:SCIM:password":{
       "id":"44f6142df96bd6ab61e7521d9",
       "values":{
         "urn:ietf:params:scim:schemas:extension:account:2.0:Password":{
           "resetAttempts":5
         }
       }
     },
     "urn:ietf:params:scim:schemas:extension:Event:RISC:password":{
       "terminateSession":true
     }
   }

   The event in the figure above has dual-extensions which allows two
   different events to be expressed based on one state change at the
   publisher.  An event MAY assert multiple different event types at the
   the same time (when appropriate), and carry different or even
   overlapping attributes.  Each event extension has its own set of
   attributes expressed within its own JSON object (in this example,
   "urn:ietf:params:scim:schemas:extension:Event:SCIM:password" and
   "urn:ietf:params:scim:schemas:extension:Event:RISC:password").  In



Hunt, et al.             Expires August 13, 2016                [Page 5]

Internet-Draft          draft-hunt-idevent-token           February 2016


   this example, the SCIM event (see Appendix A.1) indicates that a
   password has been updated and the current password reset count is 5.
   Notice that the value for "resetAttempts" is actually part of its own
   schema SCIM extension
   _urn:ietf:params:scim:schemas:extension:account:2.0:Password_.

   The other event extension is a hypothetical "RISC" extension and lets
   a subscriber know that any current sessions associated with the
   subject should be terminated.  [NOTE: at the time of writing there is
   no actual definition of RISC events, so these examples are
   hypothetical]

   By expressing multiple extensions at the same time, the publisher
   indicates that each event type stems from the same originating event.
   Publishers MAY split a single event into multiple separate events
   (e.g.  each with only one event schema extension).  Publishing
   single-events may be more important when it is appropriate to
   minimize information disclosure to a particular subscriber or set of
   subscribers.

2.1.  Core Event Attributes

   The following are attributes that may be included in an event
   message:

   schemas
      A multi-valued String attribute that MUST contains the value
      "urn:ietf:params:scim:schemas:Event" and at least one other event
      extension URIs.

   feedUris
      A multivalued String containing the URIs of the feeds the event is
      associated with.  The publisher may filter these values to be only
      those values relevant to a particular subscriber.  In doing so,
      the publisher is not obligated to deliver repeated events to the
      same subscriber.

   publisherUri
      A single valued String containing the URI of the service provider
      publishing the event.  For example, in SCIM, this is the SCIM
      Service Provider's root endpoint.

   resourceUris
      A multi-valued String that contains the URIs of one or more
      affected resources in the event.  For each resource URI included,
      the event must be identical.  For each event extension expressed,
      each extension MUST apply to each resourceUris value.




Hunt, et al.             Expires August 13, 2016                [Page 6]

Internet-Draft          draft-hunt-idevent-token           February 2016


2.2.  Event Token

   An Event Token is a JWT ([RFC7519])that is constructed by building a
   JSON structure (see [RFC7159]) that constitutes an event "message"
   and which is then used as the body of a JWT.

   While this specification uses JWT to convey an event message,
   implementers SHALL NOT use these events to convey authentication
   assertions or identity tokens[[references??]].

   The following is an example event message(it has been modified for
   readability):

   {
     "schemas":[
       "urn:ietf:params:scim:schemas:Event",
       "urn:ietf:params:scim:schemas:extension:Event:SCIM"
     ],
     "publisherUri":"https://scim.example.com",
     "feedUris":[
      "https://scim.example.com/Feeds/98d52461fa5bbc879593b7754",
      "https://scim.example.com/Feeds/5d7604516b1d08641d7676ee7"
     ],
     "resourceUris":[
       "https://scim.example.com/Users/44f6142df96bd6ab61e7521d9"
     ],
     "urn:ietf:params:scim:schemas:extension:Event:SCIM:create":{
       "attributes":["id","name","userName","password","emails"],
       "values":{
         "emails":[
          {"type":"work","value":"jdoe@example.com"}
         ],
         "password":"not4u2no",
         "userName":"jdoe",
         "id":"44f6142df96bd6ab61e7521d9",
         "name":{
           "givenName":"John",
           "familyName":"Doe"
         }
       }
     }
   }

                     Figure 1: Example Event JSON Data

   When transmitted, the above JSON body must be converted into a JWT as
   per [RFC7519].  In this example, because the event contains attribute




Hunt, et al.             Expires August 13, 2016                [Page 7]

Internet-Draft          draft-hunt-idevent-token           February 2016


   values, the token MUST be encrypted per JWE (see [RFC7516]) before
   transmission.

   The following is an example of a SCIM Event expressed in an unsecured
   JWT token.  The JWT header of:

   {"alg":"none"}

   Base64url encoding of the octets of the UTF-8 representation of the
   header yields:

   eyJhbGciOiJub25lIn0

   The example JSON Event Data is encoded as follows:

   eyAgCiAgInNjaGVtYXMiOlsKICAgICJ1cm46aWV0ZjpwYXJhbXM6c2NpbTpzY2h
   lbWFzOkV2ZW50IiwKICAgICJ1cm46aWV0ZjpwYXJhbXM6c2NpbTpzY2hlbWFzOm
   V4dGVuc2lvbjpFdmVudDpTQ0lNIgogIF0sCiAgInB1Ymxpc2hlclVyaSI6Imh0d
   HBzOi8vc2NpbS5leGFtcGxlLmNvbSIsICAKICAiZmVlZFVyaXMiOlsKICAgImh0
   dHBzOi8vc2NpbS5leGFtcGxlLmNvbS9GZWVkcy85OGQ1MjQ2MWZhNWJiYzg3OTU
   5M2I3NzU0IiwKICAgImh0dHBzOi8vc2NpbS5leGFtcGxlLmNvbS9GZWVkcy81ZD
   c2MDQ1MTZiMWQwODY0MWQ3Njc2ZWU3IgogIF0sICAKICAicmVzb3VyY2VVcmlzI
   jpbCiAgICAiaHR0cHM6Ly9zY2ltLmV4YW1wbGUuY29tL1VzZXJzLzQ0ZjYxNDJk
   Zjk2YmQ2YWI2MWU3NTIxZDkiCiAgXSwKICAidXJuOmlldGY6cGFyYW1zOnNjaW0
   6c2NoZW1hczpleHRlbnNpb246RXZlbnQ6U0NJTTpjcmVhdGUiOnsKICAgICJhdH
   RyaWJ1dGVzIjpbImlkIiwibmFtZSIsInVzZXJOYW1lIiwicGFzc3dvcmQiLCJlb
   WFpbHMiXSwKICAgICJ2YWx1ZXMiOnsKICAgICAgImVtYWlscyI6WwogICAgICAg
   eyJ0eXBlIjoid29yayIsInZhbHVlIjoiamRvZUBleGFtcGxlLmNvbSJ9CiAgICA
   gIF0sCiAgICAgICJwYXNzd29yZCI6Im5vdDR1Mm5vIiwKICAgICAgInVzZXJOYW
   1lIjoiamRvZSIsCiAgICAgICJpZCI6IjQ0ZjYxNDJkZjk2YmQ2YWI2MWU3NTIxZ
   DkiLAogICAgICAibmFtZSI6ewogICAgICAgICJnaXZlbk5hbWUiOiJKb2huIiwK
   ICAgICAgICAiZmFtaWx5TmFtZSI6IkRvZSIKICAgICAgfQogICAgfSAgCiAgfQp
   9


















Hunt, et al.             Expires August 13, 2016                [Page 8]

Internet-Draft          draft-hunt-idevent-token           February 2016


   The encoded JWS signature is the empty string.  Concatenating the
   parts yields:

   eyJhbGciOiJub25lIn0
   .
   eyAgCiAgInNjaGVtYXMiOlsKICAgICJ1cm46aWV0ZjpwYXJhbXM6c2NpbTpzY2h
   lbWFzOkV2ZW50IiwKICAgICJ1cm46aWV0ZjpwYXJhbXM6c2NpbTpzY2hlbWFzOm
   V4dGVuc2lvbjpFdmVudDpTQ0lNIgogIF0sCiAgInB1Ymxpc2hlclVyaSI6Imh0d
   HBzOi8vc2NpbS5leGFtcGxlLmNvbSIsICAKICAiZmVlZFVyaXMiOlsKICAgImh0
   dHBzOi8vc2NpbS5leGFtcGxlLmNvbS9GZWVkcy85OGQ1MjQ2MWZhNWJiYzg3OTU
   5M2I3NzU0IiwKICAgImh0dHBzOi8vc2NpbS5leGFtcGxlLmNvbS9GZWVkcy81ZD
   c2MDQ1MTZiMWQwODY0MWQ3Njc2ZWU3IgogIF0sICAKICAicmVzb3VyY2VVcmlzI
   jpbCiAgICAiaHR0cHM6Ly9zY2ltLmV4YW1wbGUuY29tL1VzZXJzLzQ0ZjYxNDJk
   Zjk2YmQ2YWI2MWU3NTIxZDkiCiAgXSwKICAidXJuOmlldGY6cGFyYW1zOnNjaW0
   6c2NoZW1hczpleHRlbnNpb246RXZlbnQ6U0NJTTpjcmVhdGUiOnsKICAgICJhdH
   RyaWJ1dGVzIjpbImlkIiwibmFtZSIsInVzZXJOYW1lIiwicGFzc3dvcmQiLCJlb
   WFpbHMiXSwKICAgICJ2YWx1ZXMiOnsKICAgICAgImVtYWlscyI6WwogICAgICAg
   eyJ0eXBlIjoid29yayIsInZhbHVlIjoiamRvZUBleGFtcGxlLmNvbSJ9CiAgICA
   gIF0sCiAgICAgICJwYXNzd29yZCI6Im5vdDR1Mm5vIiwKICAgICAgInVzZXJOYW
   1lIjoiamRvZSIsCiAgICAgICJpZCI6IjQ0ZjYxNDJkZjk2YmQ2YWI2MWU3NTIxZ
   DkiLAogICAgICAibmFtZSI6ewogICAgICAgICJnaXZlbk5hbWUiOiJKb2huIiwK
   ICAgICAgICAiZmFtaWx5TmFtZSI6IkRvZSIKICAgICAgfQogICAgfSAgCiAgfQp
   9.

                  Figure 2: Example Unsecured Event Token

   To create and or validate a signed or encrypted event token follow
   the instructions in section 7 of [RFC7519].

3.  Security Considerations

   [[TO BE COMPLETED]]

4.  IANA Considerations

4.1.  Event Type Registry

   [[TODO: Registration of Event Types]]

5.  References

5.1.  Normative References

   [idevent-subscription]
              Oracle Corporation, "Identity Event Subscription Protocol
              (work in progress)".





Hunt, et al.             Expires August 13, 2016                [Page 9]

Internet-Draft          draft-hunt-idevent-token           February 2016


   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66,
              RFC 3986, DOI 10.17487/RFC3986, January 2005,
              <http://www.rfc-editor.org/info/rfc3986>.

   [RFC5988]  Nottingham, M., "Web Linking", RFC 5988,
              DOI 10.17487/RFC5988, October 2010,
              <http://www.rfc-editor.org/info/rfc5988>.

   [RFC7159]  Bray, T., Ed., "The JavaScript Object Notation (JSON) Data
              Interchange Format", RFC 7159, DOI 10.17487/RFC7159, March
              2014, <http://www.rfc-editor.org/info/rfc7159>.

   [RFC7519]  Jones, M., Bradley, J., and N. Sakimura, "JSON Web Token
              (JWT)", RFC 7519, DOI 10.17487/RFC7519, May 2015,
              <http://www.rfc-editor.org/info/rfc7519>.

   [RFC7643]  Hunt, P., Ed., Grizzle, K., Wahlstroem, E., and C.
              Mortimore, "System for Cross-domain Identity Management:
              Core Schema", RFC 7643, DOI 10.17487/RFC7643, September
              2015, <http://www.rfc-editor.org/info/rfc7643>.

5.2.  Informative References

   [HEART]    The OpenId Foundation, "HEART Working Group (work in
              progress)".

   [RFC7009]  Lodderstedt, T., Ed., Dronia, S., and M. Scurtescu, "OAuth
              2.0 Token Revocation", RFC 7009, DOI 10.17487/RFC7009,
              August 2013, <http://www.rfc-editor.org/info/rfc7009>.

   [RFC7515]  Jones, M., Bradley, J., and N. Sakimura, "JSON Web
              Signature (JWS)", RFC 7515, DOI 10.17487/RFC7515, May
              2015, <http://www.rfc-editor.org/info/rfc7515>.

   [RFC7516]  Jones, M. and J. Hildebrand, "JSON Web Encryption (JWE)",
              RFC 7516, DOI 10.17487/RFC7516, May 2015,
              <http://www.rfc-editor.org/info/rfc7516>.

   [RFC7517]  Jones, M., "JSON Web Key (JWK)", RFC 7517,
              DOI 10.17487/RFC7517, May 2015,
              <http://www.rfc-editor.org/info/rfc7517>.




Hunt, et al.             Expires August 13, 2016               [Page 10]

Internet-Draft          draft-hunt-idevent-token           February 2016


   [RFC7644]  Hunt, P., Ed., Grizzle, K., Ansari, M., Wahlstroem, E.,
              and C. Mortimore, "System for Cross-domain Identity
              Management: Protocol", RFC 7644, DOI 10.17487/RFC7644,
              September 2015, <http://www.rfc-editor.org/info/rfc7644>.

   [RISC]     The OpenId Foundation, "RISC (Risk and Incident Sharing
              and Coordination) Working Group (work in progress)".

Appendix A.  Appendix A.  Event Types

A.1.  SCIM Events

A.1.1.  Event Schema URIs

   This specification defines event schema URI for SCIM.  Additional
   event types may be defined using the Event Type IANA registration
   process described in Section 4.1.

   urn:ietf:params:scim:schemas:extension:Event:SCIM:add
      The specified resource URI was added to the feed.  An add does not
      necessarily indicate a resource is new or has been recently
      created, but rather that it has been added to a feed.  For
      example, an existing user has had a new role (e.g.  CRM_User)
      added to their profile which has caused their resource to join a
      feed.

   urn:ietf:params:scim:schemas:extension:Event:SCIM:create
      The new resource URI has been created at the service provider and
      has been added to the feed.  When a CREATE event is sent, a
      corresponding ADD event is not issued.  For example, a new user
      was created via HTTP POST, whose attribute profile met the
      criteria of a current feed.

   urn:ietf:params:scim:schemas:extension:Event:SCIM:activate
      The specified resource (e.g.  User) has been activated or is
      otherwise available for use.  [TODO: this seems to be a higher
      level concept that may consist of multiple attributes changing -
      How to differentiate between activate and MODIFY events]

   urn:ietf:params:scim:schemas:extension:Event:SCIM:modify
      The specified resource has been updated (e.g. one or more
      attributes has changed).

   urn:ietf:params:scim:schemas:extension:Event:SCIM:deactivate
      The specified resource (e.g.  User) has been deactivated.  [TODO:
      Is there a corresponding MODIFY event?]

   urn:ietf:params:scim:schemas:extension:Event:SCIM:delete



Hunt, et al.             Expires August 13, 2016               [Page 11]

Internet-Draft          draft-hunt-idevent-token           February 2016


      The specified resource has been deleted from the service provider
      and is also removed from the feed.  When a DELETE is sent, a
      corresponding REMOVE is not issued.

   urn:ietf:params:scim:schemas:extension:Event:SCIM:remove
      The specified resource has been removed from the feed.  Removal
      does not indicate that the resource was deleted or otherwise
      deactivated.

   urn:ietf:params:scim:schemas:extension:Event:SCIM:password
      The specified resource (e.g.  User) has changed its password.  If
      secure exchange is possible with the subscriber, the event may
      also include the raw password update text.  A PASSWORD event MUST
      be transmitted in encrypted form (see Section 2.2).

   urn:ietf:params:scim:schemas:extension:Event:SCIM:confirmation
      A special event that is used during Polling Feed Registrations and
      Web Callback URI subscriptions to confirm successful configuration
      of an event feed.  The contents of a CONFIRMATION event SHALL be
      defined by the registration process documented in following
      sections [TODO add reference]

A.1.2.  SCIM Event Attributes

   The following attributes are defined for all of the schema URI
   defined in Appendix A.1.1 or any schema defined within the uri
   namespace "urn:ietf:params:scim:schemas:extension:Event:SCIM".

   id
      An optional multi-valued SCIM "id" value of the affected
      resource(s) as defined in Section 3.1 [RFC7643].  If provided the
      identifiers MUST correspond to the values referenced in
      "resourceUris".

   attributes
      A multi-valued list of affected SCIM attributes.  Each attribute
      listed may be a fully-qualified attribute name or an attribute
      "path" as defined in Figure 7 of Section 3.3.2 of [RFC7644]

   values
      A JSON object structure containing the affected attributes and
      their associated values.  If the "values" attribute is supplied,
      the event message MUST be encrypted.  Service providers SHOULD
      take care to ensure that eligible subscribers are able to see
      attribute values.  Alternatively, subscribers MAY use the
      resourceURIs to retrieve the final attribute values.  When doing
      so, the SCIM service provider can then assess the subscribers
      right to obtain the actual attribute values.



Hunt, et al.             Expires August 13, 2016               [Page 12]

Internet-Draft          draft-hunt-idevent-token           February 2016


      For a password change event, the clear text password attribute
      value MAY be included in the values attribute.  "PASSWORD" event.

Appendix B.  Contributors

Appendix C.  Acknowledgments

   The editor would like to thank the participants in the the SCIM
   working group for their support of this specification.

Appendix D.  Change Log

   Draft 00 - PH - First Draft

Authors' Addresses

   Phil Hunt (editor)
   Oracle Corporation

   Email: phil.hunt@yahoo.com


   William Denniss
   Salesforce.com

   Email: wdenniss@google.com


   Morteza Ansari
   Cisco

   Email: morteza.ansari@cisco.com



















Hunt, et al.             Expires August 13, 2016               [Page 13]
